# 远程桥接：.docforge 中继协议

> **本文档定位**：批判性审视 MaeDoc 的远程桥接设计
> **所属系列**：[核心设计反思](./index.md)
> **相关文档**：[AI 能力深化](../../forward/ai-capability-deepening.md)

---

## 1. 设计初衷

当本地模型能力不足时，通过文件中继桥接到更强大的外部 AI。

选择文件中继而非 API 调用，原因是：
- **隐私**：用户可以先审核要发送的内容
- **通用性**：支持任何外部 AI，不绑定特定平台
- **简单**：不需要管理 API Key

---

## 2. 实际体验

说实话，我很少手动使用 `/escalate`。

更常见的情况是：在对话过程中，AI 自己通过 `hardness-classify` 触发「主动求助」，这时我才被动地使用远程桥接。

### 2.1 手动复制粘贴繁琐

`outbox/*.md → 复制 → 打开 Claude.ai → 粘贴 → 等回答 → 复制 → 保存到 inbox/*.md → /ingest-remote`

这个流程至少需要 5 个手动步骤，摩擦很大。

### 2.2 上下文同步成本

外部 AI 的回答只是「建议」，需要手动决定采纳哪些、跳过哪些。如果外部 AI 的建议与本地上下文有冲突，解决起来很麻烦。

### 2.3 反馈循环缺失

外部 AI 的回答是「一次性」的。如果我有追问，需要重新走一遍流程。

---

## 3. 如果重新设计

### 方案 A：自动 API 调用（可选）

提供配置选项，允许用户配置 API Key。当触发远程增强时，自动调用 API 获取回答，跳过手动复制粘贴。

代价是：
- 需要管理 API Key
- 隐私风险（自动发送内容）

### 方案 B：浏览器自动化

使用 Playwright 等工具，自动打开外部 AI 网页，自动填入问题，自动获取回答。

代价是：
- 依赖浏览器环境
- 外部 AI 网页可能变化

### 方案 C：保持现状，优化交互

不改变文件中继的本质，但优化交互：
- 生成更紧凑的 outbox 文件
- 提供「一键导入」功能（监控 inbox 目录变化，自动提示）
- 在 /ingest-remote 时提供更智能的建议分类

---

## 4. 我的倾向

短期内，我倾向于**方案 C**：保持文件中继，优化交互。

长期来看，如果本地模型能力持续提升，远程桥接的使用频率会下降，这个问题可能自然消失。

---

*本文档从 [design-reflections.md](./index.md) 拆分而来，最后更新：2026-02-21*
